<!-- ── Overlay wrapper ────────────────────────────────────────────── -->
<div
	class="fixed inset-0 z-50 flex items-center justify-center p-4"
	[class.pointer-events-none]="!open()"
	[attr.inert]="open() ? null : ''"
>
	<!-- Backdrop -->
	<div
		class="absolute inset-0 bg-slate-950/40 backdrop-blur-sm transition-opacity duration-200"
		[class.opacity-0]="!open()"
		[class.opacity-100]="open()"
		(click)="close()"
		aria-hidden="true"
	></div>

	<!-- Panel -->
	<div
		class="relative z-10 flex w-full flex-col rounded-xl border border-slate-200/50 bg-white transition-all duration-200 dark:border-slate-800/50 dark:bg-slate-950"
		[class]="sizeClass() + ' ' + panelStateClass()"
		role="dialog"
		aria-modal="true"
		[attr.aria-label]="title() ?? 'Modal'"
	>
		<!-- Header -->
		<div
			class="flex shrink-0 items-center justify-between border-b border-slate-100 px-5 py-4 dark:border-slate-800"
		>
			@if (title()) {
				<h2 class="text-sm font-semibold text-slate-900 dark:text-white">
					{{ title() }}
				</h2>
			} @else {
				<span aria-hidden="true"></span>
			}

			<button
				type="button"
				(click)="close()"
				class="rounded-md p-1.5 text-slate-400 transition-colors hover:bg-slate-100 hover:text-slate-600 dark:hover:bg-slate-800 dark:hover:text-slate-300"
				aria-label="Cerrar"
			>
				<svg class="size-4" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
					<path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
				</svg>
			</button>
		</div>

		<!-- Body -->
		<div class="min-h-0 flex-1 overflow-y-auto px-5 py-5">
			<ng-content />
		</div>

		<!-- Footer (renders only when [modalFooter] is projected) -->
		@if (footer) {
			<div class="shrink-0 border-t border-slate-100 px-5 py-4 dark:border-slate-800">
				<ng-content select="[modalFooter]" />
			</div>
		}
	</div>
</div>
