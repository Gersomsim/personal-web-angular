<div class="flex flex-col gap-1.5">
	<label class="font-mono text-xs font-medium text-slate-500 dark:text-slate-400">
		{{ label() }}
	</label>

	<div class="relative">
		<select
			[disabled]="isDisabled()"
			(change)="onChange($event)"
			(blur)="onBlur()"
			class="w-full appearance-none rounded-md border px-3 py-2 pr-8 text-sm text-slate-900 outline-none transition-colors disabled:cursor-not-allowed disabled:opacity-50 dark:text-white"
			[ngClass]="hasError
				? 'border-red-300 bg-red-50/50 dark:border-red-800/50 dark:bg-red-950/10'
				: 'border-slate-200/50 bg-slate-50 focus:border-emerald-500/50 dark:border-slate-800/50 dark:bg-slate-900 dark:focus:border-emerald-500/50'"
		>
			<option value="" [selected]="!value()" class="text-slate-400 dark:text-slate-600">
				{{ placeholder() }}
			</option>
			@for (opt of options(); track opt.value) {
				<option [value]="opt.value" [selected]="value() === opt.value">
					{{ opt.label }}
				</option>
			}
		</select>

		<!-- Custom arrow -->
		<div class="pointer-events-none absolute right-2.5 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-600">
			<svg class="size-4" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
				<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" />
			</svg>
		</div>
	</div>

	@if (hasError) {
		<p class="font-mono text-[10px] text-red-500 dark:text-red-400">{{ errorMessage }}</p>
	}
</div>
