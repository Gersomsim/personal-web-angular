<div class="flex min-h-screen flex-col bg-white text-slate-900 dark:bg-slate-950 dark:text-white">
	<!-- Public header — preserved for site navigation -->
	<app-header />

	<!-- Admin shell -->
	<div class="flex flex-1">
		<!-- ============================================
		     SIDEBAR
		     ============================================ -->
		<aside
			class="fixed top-16 bottom-0 z-40 flex w-56 flex-col border-r border-slate-200/50 bg-white transition-transform duration-200 dark:border-slate-800/50 dark:bg-slate-950 lg:translate-x-0"
			[class.translate-x-0]="sidebarOpen()"
			[class.-translate-x-full]="!sidebarOpen()"
		>
			<!-- Admin context bar -->
			<div class="flex items-center gap-2 border-b border-slate-200/50 px-4 py-3 dark:border-slate-800/50">
				<span class="flex size-6 items-center justify-center rounded-md bg-emerald-500/10 font-mono text-xs font-bold text-emerald-600 dark:text-emerald-400">
					A
				</span>
				<span class="font-mono text-xs font-medium text-slate-900 dark:text-white">Admin Panel</span>
			</div>

			<!-- Navigation -->
			<nav class="flex-1 overflow-y-auto px-3 py-4">
				@for (group of navGroups; track group.tag) {
					<div class="mb-4">
						<p class="mb-2 px-2 font-mono text-[10px] uppercase tracking-widest text-slate-400 dark:text-slate-600">
							{{ group.tag }}
						</p>
						<ul class="space-y-0.5">
							@for (item of group.items; track item.path) {
								<li>
									<a
										[routerLink]="item.path"
										routerLinkActive="bg-slate-100 text-slate-900 dark:bg-slate-800/80 dark:text-white"
										[routerLinkActiveOptions]="{ exact: false }"
										class="flex items-center gap-2.5 rounded-md px-2 py-1.5 text-sm text-slate-600 transition-colors hover:bg-slate-50 hover:text-slate-900 dark:text-slate-400 dark:hover:bg-slate-800/50 dark:hover:text-white"
									>
										<!-- Icons inline — compact, no external dependency -->
										@switch (item.icon) {
											@case ('file-text') {
												<svg class="size-4 shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
													<path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z" />
												</svg>
											}
											@case ('folder') {
												<svg class="size-4 shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
													<path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z" />
												</svg>
											}
											@case ('code') {
												<svg class="size-4 shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
													<path stroke-linecap="round" stroke-linejoin="round" d="M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5" />
												</svg>
											}
											@case ('zap') {
												<svg class="size-4 shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
													<path stroke-linecap="round" stroke-linejoin="round" d="m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z" />
												</svg>
											}
										}
										{{ item.label }}
									</a>
								</li>
							}
						</ul>
					</div>
				}
			</nav>

			<!-- Sidebar footer -->
			<div class="space-y-0.5 border-t border-slate-200/50 px-3 py-3 dark:border-slate-800/50">
				<a
					routerLink="/"
					class="flex items-center gap-2 rounded-md px-2 py-1.5 text-sm text-slate-500 transition-colors hover:bg-slate-50 hover:text-slate-900 dark:hover:bg-slate-800/50 dark:hover:text-white"
				>
					<svg class="size-4 shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25" />
					</svg>
					Ver sitio
				</a>

				<button
					type="button"
					(click)="logout()"
					class="flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-sm text-slate-500 transition-colors hover:bg-red-50/70 hover:text-red-600 dark:hover:bg-red-950/20 dark:hover:text-red-400"
				>
					<svg class="size-4 shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9" />
					</svg>
					Cerrar sesión
				</button>
			</div>
		</aside>

		<!-- Mobile sidebar overlay -->
		@if (sidebarOpen()) {
			<div
				class="fixed inset-0 top-16 z-30 bg-slate-950/20 backdrop-blur-sm lg:hidden"
				(click)="toggleSidebar()"
			></div>
		}

		<!-- ============================================
		     MAIN CONTENT
		     ============================================ -->
		<main class="flex-1 lg:pl-56">
			<!-- Top bar — mobile toggle + breadcrumb area -->
			<div class="sticky top-16 z-20 flex h-12 items-center gap-3 border-b border-slate-200/50 bg-white/80 px-4 backdrop-blur-md dark:border-slate-800/50 dark:bg-slate-950/80 lg:px-8">
				<!-- Mobile sidebar toggle -->
				<button
					type="button"
					class="inline-flex items-center justify-center rounded-md p-1 text-slate-500 transition-colors hover:bg-slate-100 hover:text-slate-900 lg:hidden dark:hover:bg-slate-800 dark:hover:text-white"
					(click)="toggleSidebar()"
				>
					<svg class="size-5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5M3.75 17.25h16.5" />
					</svg>
				</button>

				<!-- Breadcrumb slot — pages can project content here -->
				<div class="flex items-center gap-2 font-mono text-xs text-slate-500">
					<span class="text-emerald-500">~</span>
					<span>/admin</span>
				</div>
			</div>

			<!-- Page content -->
			<div class="p-6 lg:p-8">
				<router-outlet />
			</div>
		</main>
	</div>
</div>
