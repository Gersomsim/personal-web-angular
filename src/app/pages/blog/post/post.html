@let data = post();

<section class="border-t border-slate-200/50 dark:border-slate-800/50">
	<div class="mx-auto max-w-5xl px-6 lg:px-8">
		<div
			class="grid gap-12 pt-12"
			[ngClass]="{
				'lg:grid-cols-[1fr_300px]': isLoading() || data,
			}"
		>
			<!-- ========== MAIN FEED (70%) ========== -->
			<main class="min-w-0">
				<app-post-detail
					[loading]="isLoading()"
					[post]="data"
				/>
			</main>

			<aside class="space-y-8">
				<aside class="hidden lg:block">
					<div class="sticky top-24 space-y-4">
						<app-widget-toc
							[post]="data"
							[loading]="isLoading()"
						/>

						<!-- Share -->
						<app-widget-share-post
							[post]="data"
							[loading]="isLoading()"
						/>
						@if (data) {
							<app-widget-author />
						}
					</div>
				</aside>
			</aside>
		</div>
	</div>
	<app-related-project />
</section>
