<section class="py-24">
	<div class="mx-auto max-w-5xl px-6 lg:px-8">
		<div class="text-center">
			<p class="mb-4 font-mono text-sm text-emerald-500">
				<span class="cursor">></span>
				Portfolio de Ingeniería
			</p>
			<h1 class="text-4xl font-bold tracking-tight text-slate-900 dark:text-white sm:text-5xl">
				Soluciones escalables y arquitecturas robustas diseñadas para el impacto real.
			</h1>
			<p class="mx-auto mt-4 max-w-2xl text-lg text-slate-600 dark:text-slate-400">
				Una selección de proyectos donde la limpieza del código y la estrategia de datos se encuentran para
				resolver desafíos complejos. Desde sistemas empresariales (ERP) hasta plataformas personalizadas.
			</p>
		</div>

		<!-- Filtros -->
		<div class="mt-12 flex flex-wrap justify-center gap-2">
			@for (filter of filters; track filter.id) {
				<button
					type="button"
					(click)="setFilter(filter.id)"
					[class]="
						activeFilter() === filter.id
							? 'bg-emerald-500 text-white'
							: 'bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:hover:bg-slate-700'
					"
					class="rounded-full px-4 py-2 text-sm font-medium transition-colors"
				>
					{{ filter.label }}
				</button>
			}
		</div>
	</div>
</section>

<!-- ============================================
     PROYECTO DESTACADO (Featured)
     ============================================ -->
@if (featuredProject()) {
	<app-project-featured [project]="featuredProject()" />
}

<!-- ============================================
     CUADRÍCULA DE PROYECTOS
     ============================================ -->
<section class="py-24">
	<div class="mx-auto max-w-5xl px-6 lg:px-8">
		<app-section-header
			tag="// Más proyectos"
			title="El Portfolio Completo"
			subtitle="Cada proyecto representa un problema resuelto y lecciones aprendidas."
		/>

		@if (projectsRes.isLoading()) {
			<div class="mt-12 grid gap-8 md:grid-cols-2">
				@for (i of [1, 2, 3, 4]; track i) {
					<div
						class="flex flex-col overflow-hidden rounded-lg border border-slate-200/50 bg-white dark:border-slate-800/50 dark:bg-slate-900/50"
					>
						<!-- image placeholder -->
						<div class="aspect-video w-full animate-pulse bg-slate-100 dark:bg-slate-800"></div>
						<!-- content placeholder -->
						<div class="flex flex-1 flex-col gap-3 p-6">
							<div class="h-4 w-20 animate-pulse rounded-full bg-slate-100 dark:bg-slate-800"></div>
							<div class="h-5 w-2/3 animate-pulse rounded bg-slate-100 dark:bg-slate-800"></div>
							<div class="space-y-2">
								<div class="h-3.5 w-full animate-pulse rounded bg-slate-100 dark:bg-slate-800"></div>
								<div class="h-3.5 w-full animate-pulse rounded bg-slate-100 dark:bg-slate-800"></div>
								<div class="h-3.5 w-4/5 animate-pulse rounded bg-slate-100 dark:bg-slate-800"></div>
							</div>
							<div class="mt-auto flex gap-2 pt-2">
								<div class="h-4 w-14 animate-pulse rounded bg-slate-100 dark:bg-slate-800"></div>
								<div class="h-4 w-14 animate-pulse rounded bg-slate-100 dark:bg-slate-800"></div>
								<div class="h-4 w-10 animate-pulse rounded bg-slate-100 dark:bg-slate-800"></div>
							</div>
						</div>
					</div>
				}
			</div>
		} @else if (Projects().length > 0) {
			<app-projects-list [projects]="Projects()" />
		} @else {
			<div class="mt-12 flex flex-col items-center justify-center py-16 text-center">
				<div class="flex size-12 items-center justify-center rounded-full bg-slate-100 dark:bg-slate-800">
					<svg
						class="size-6 text-slate-400"
						fill="none"
						viewBox="0 0 24 24"
						stroke-width="1.5"
						stroke="currentColor"
					>
						<path
							stroke-linecap="round"
							stroke-linejoin="round"
							d="M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"
						/>
					</svg>
				</div>
				<p class="mt-4 text-sm font-medium text-slate-900 dark:text-white">
					No hay proyectos en esta categoría
				</p>
				<p class="mt-1 text-sm text-slate-500 dark:text-slate-400">Prueba seleccionando otro filtro.</p>
			</div>
		}
	</div>
</section>

<!-- ============================================
     EXPERIMENTOS / PLAYGROUND
     ============================================ -->
<section class="border-t border-slate-200/50 bg-slate-50/50 py-24 dark:border-slate-800/50 dark:bg-slate-900/50">
	<div class="mx-auto max-w-5xl px-6 lg:px-8">
		<app-section-header
			tag="// The Playground"
			title="Experimentos y Side Projects"
			subtitle="Donde me divierto probando ideas, aprendiendo tecnologías nuevas y explorando."
		/>

		<app-experiment-list [experiments]="experiments()" />
	</div>
</section>

<!-- ============================================
     CTA FINAL
     ============================================ -->
<section class="py-24">
	<div class="mx-auto max-w-5xl px-6 lg:px-8">
		<div class="text-center">
			<p class="mb-2 font-mono text-sm text-emerald-500">// ¿Te interesa?</p>
			<h2 class="text-3xl font-bold tracking-tight text-slate-900 dark:text-white sm:text-4xl">
				Construyamos algo juntos
			</h2>
			<p class="mx-auto mt-4 max-w-xl text-lg text-slate-600 dark:text-slate-400">
				Si tienes un proyecto en mente o buscas un desarrollador para tu equipo, hablemos.
			</p>

			<div class="mt-8">
				<a
					routerLink="/contact"
					class="inline-flex items-center gap-2 rounded-md bg-emerald-500 px-6 py-3 font-medium text-white transition-colors hover:bg-emerald-600"
				>
					Contactar
					<svg
						class="size-4"
						fill="none"
						viewBox="0 0 24 24"
						stroke-width="2"
						stroke="currentColor"
					>
						<path
							stroke-linecap="round"
							stroke-linejoin="round"
							d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"
						/>
					</svg>
				</a>
			</div>
		</div>
	</div>
</section>
